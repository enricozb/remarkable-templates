(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAACeUlEQVRYCe2YvUpdQRSF1QRtTJ/YWCgWQh4i1SWItj6BT2HnA4igyXMEQ2rLkBcwpAgWBgl2crVQFF1fuJrNynjvnLlzzCncsHBm7t5rr7Pn55xxcqKeTYvqnbAmLAtzA+jPxMkAh/q7LxwIV8KT2Gtl+SicCbeZwJcYYluzGTFvCedCrjD3IxYOuKoaT/5V8ISlfbiqVfOtyI4fEfdL43vCe2FJmBVeDdqM8Rs+qQeBE+6xjKdMiWMTbAgvMtjxwZcYFwp3cSVZJ6lp/axxqtTUiCHWRZKDXI2Nxexkuxqbasz0N4BYOJyXXI2Msvtu5enHEXcvAA6vJLkaTTVnVnxK1k/JtCosaXD5miRnlk3Lyw9hFnltgzMWgZzkHmk9ecRAjomc3TqS2Bzg9COol7OGeLdG+6TOTRyo1IYT7mhrOQJ58Uf7EjuV2869nCOQr5JoP2Onctu5PXcyXV+jcQ3y+mrL4I65+jkVdJ/JttSJ9x9uT57KfWqDb6xfs+vcJzkCf5uCBevX7C4aWZbAbxa0Yv2aXec+zCFflVNcuE96UOcIZGd1+lXHQ2wLsYqd+lhA4LxwaSI79bmFyE0TSEV3hZyTQG5JIxaOODu0t5LeIwZf6vfvgpNRyZJvQ2KIdb7iT/51kV0nCEnAmvyvl6Zh4mIFOIL82skpsCS0du1MiaOSqemOYpu0mdZGdxD5/7HHxDHOmmTj+O5uIozLERui6Jo5TJw4H2xeLc5JP8yHCcV3rH8e5Yp7UKkGa43X4o7AlB0JF0Jf+CEcCB+EnpB1GZJf0krEJYnaGHwWV1rV58qVVo44f33Rp6KdsXhedU4cVboX2Elxd9ACdSNHMscDAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/close.d6a4018a.svg"},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAApElEQVRYCe2XAQrAIAhF3djldv8j7CBbQiC5INZHJvEFQQnNPS2aiMhZ9Kqqtpfodb/fy9fi7qpqe4le9/s1/t54SZ3oFo7yJ8XCskjACEQPMZx/dM/Zp8xZUP4l7sE5bhYFt9hS0fpOYCsh+lBIK+kPCQtEZ+foJNC5/FOaM8EWo60gQRJECaDxnEESRAmg8ZxBEkQJoPGcweUJ8q9u+RanP8UPFWk176DxENYAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAABHElEQVRYCe2VbQ7CIAyGN+PlvP8RPIiucU9CoaZQdOFHScgL/Vp5C92+bdvrmFeMPfKRW8TpSp9McJbtuxEgdFeMOD+521lig9khUTI4RJdhnAwapAyJkkGDrsche55T1vVo9NJQy1k7RPdlzLJpS3LoZF0PpV++xJI9pwHrE0X3xAOJ05QQxYlKL/9dCVCOf/2LQ3GXL3EmWN6dyHpFBtUjkUPxysDIQS0f4oGWjSXLPggrMAci91CVOPugR5enX/EVq5wzQUVH30Y9EnHhlYF9YXwr4oG+x8ci+yBMwRyI3ENV4uyDHl2ePtuMx5CntxjkUs/it2+rR2AYNfrZRHr9yUX1OYQFKr3FYGG7xrKXgVk7TtuUEMWJSv8GaQKwgbJAQcYAAAAASUVORK5CYII="},function(e,t,a){e.exports=a.p+"static/media/close-black.208ccc7a.svg"},function(e,t,a){e.exports=a.p+"static/media/question.67d64b8c.svg"},function(e,t,a){e.exports=a.p+"static/media/plus.06f513f8.svg"},function(e,t,a){e.exports=a(37)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(27),a(28),a(3)),s=a(1),i=a(5),u=a(4),A=a(2);a(29);function m(){return c.a.createElement("div",{className:"loading-container"},c.a.createElement("div",{className:"loading"},c.a.createElement("div",null,"."),c.a.createElement("div",null,"."),c.a.createElement("div",null,".")))}a(30);var d=a(17),p=a.n(d),f=a(18),E=a.n(f),g=a(13),h=a.n(g),v=a(19),b=a.n(v);function C(e){var t=Object(n.useState)(e.landscape),a=Object(A.a)(t,2),r=a[0],l=a[1];return c.a.createElement("button",{className:"orientation-button",onClick:function(){l(!r),e.setLandscape(!r)}},c.a.createElement("img",{className:"orientation-img",alt:"Portrait or landscape icon",src:e.landscape?p.a:E.a}))}function O(e){var t=e.searching,a=e.setSearching,r=e.searchText,l=e.setSearchText,o=c.a.createRef();return Object(n.useEffect)((function(){t&&o.current.focus()}),[t]),t?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"search-button"},c.a.createElement("img",{className:"search-img",alt:"Search filter for templates",src:h.a})),c.a.createElement("input",{ref:o,type:"text",value:r,onChange:function(e){l(e.target.value)}}),c.a.createElement("button",{className:"search-close",onClick:function(){return a(!1)}},c.a.createElement("img",{src:b.a,alt:"Button to close searchbar"}))):c.a.createElement("button",{className:"search-button"},c.a.createElement("img",{className:"search-img",alt:"Search filter for templates",src:h.a,onClick:function(){return a(!0)}}))}a(31);function y(e){var t=e.template.landscape?"template-landscape":"template-portrait";return c.a.createElement("div",{className:"template"},c.a.createElement("img",{className:t,alt:"template ".concat(e.template.name),src:e.template.url,onClick:function(){return window.open(e.template.url)}}),c.a.createElement("div",{className:"template-info"},c.a.createElement("p",null,c.a.createElement("span",{style:{fontWeight:600}},e.template.name)," -"," ",e.template.author)))}var x=a(7),N=a.n(x),S=a(12);function k(){return(k=Object(S.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))})));case 2:return(a=e.sent).sort((function(e,t){return e.name.localeCompare(t.name)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return fetch("".concat("/api","/files"),{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return function(e){return k.apply(this,arguments)}(e)}))}function T(e,t,a,n,c){var r=new FormData;return r.append("filedata",e),r.append("author",t),r.append("name",a),r.append("categories",n.join(",")),r.append("landscape",c.toString()),fetch("/api/upload",{method:"POST",body:r}).then((function(e){return e.json()}))}a(33);var Q=a(15);function B(e){var t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],l=a[1];return r?c.a.createElement("div",{className:"categories"},c.a.createElement("div",{className:"categories-list"},c.a.createElement("div",{key:"search",className:"category-container"},c.a.createElement("li",{className:"category"},c.a.createElement(O,{searching:r,setSearching:l,searchText:e.searchText,setSearchText:e.setSearchText}))))):c.a.createElement("div",{className:"categories"},c.a.createElement("div",{className:"categories-list"},c.a.createElement("div",{key:"orientation",className:"category-container",onClick:function(){return e.setLandscape(!e.landscape)}},c.a.createElement("li",{className:"category"},c.a.createElement(C,{landscape:e.landscape,setLandscape:e.setLandscape}))),["All","Creative","Grids","Life/organize","Lines"].map((function(t){return c.a.createElement("div",{key:"".concat(t,"-div"),className:"category-container"},c.a.createElement("li",{key:t,className:"category ".concat(t===e.selected?"selected":""),onClick:function(){return e.setSelected(t)}},t))})),c.a.createElement("div",{key:"search",className:"category-container",onClick:function(){return l(!0)}},c.a.createElement("li",{className:"category"},c.a.createElement(O,{searching:r,setSearching:l,searchText:e.searchText,setSearchText:e.setSearchText})))))}var R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fuseOptions={keys:["author","name"]},n.componentDidMount=function(){j().then((function(e){n.setState({loading:!1,templates:e,fuse:new Q.a(e,n.fuseOptions)})}))},n.setSearchText=function(e){n.setState(Object(o.a)(Object(o.a)({},n.state),{},{searchText:e}))},n.setLandscape=function(e){n.setState(Object(o.a)(Object(o.a)({},n.state),{},{landscape:e}))},n.setCategory=function(e){n.setState(Object(o.a)(Object(o.a)({},n.state),{},{category:e}))},n.selectedTemplates=function(){return(n.state.searchText?n.state.fuse.search(n.state.searchText).map((function(e){return e.item})):n.state.templates).filter((function(e){return e.landscape===n.state.landscape&&("All"===n.state.category||e.categories.includes(n.state.category))}))},n.render=function(){return n.state.loading?c.a.createElement(m,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(B,{landscape:n.state.landscape,setLandscape:n.setLandscape,selected:n.state.category,setSelected:n.setCategory,searchText:n.state.searchText,setSearchText:n.setSearchText}),c.a.createElement("div",{className:"grid"},n.selectedTemplates().map((function(e){return c.a.createElement(y,{key:e.url,template:e})}))))},n.state={searchText:"",loading:!0,landscape:!1,category:"All",templates:[],fuse:new Q.a([],n.fuseOptions)},n}return a}(c.a.Component),w=(a(34),a(14)),J=a.n(w),V=document.getElementById("modal-overlay-container"),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).modalDiv=void 0,n.componentDidMount=function(){V.style.display="flex",document.getElementById("modal-overlay-container").appendChild(n.modalDiv)},n.componentWillUnmount=function(){V.style.display="none",document.getElementById("modal-overlay-container").removeChild(n.modalDiv)},n.clickOutside=function(e){e.target===V&&n.requestHide()},n.requestHide=function(){n.props.onRequestHide()},n.render=function(){return l.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"topbar"},c.a.createElement("button",{className:"icon-button",onClick:n.requestHide},c.a.createElement("img",{src:J.a,alt:"Button to close modal"})),c.a.createElement("div",null,n.props.title),c.a.createElement("button",{className:"icon-button phantom"},c.a.createElement("img",{src:J.a,alt:"Hidden close button that does nothing when clicked"}))),c.a.createElement("div",{className:"modal-content"},n.props.children)),n.modalDiv)},n.modalDiv=document.createElement("div"),n.modalDiv.classList.add("modal"),V.onclick=n.clickOutside,n}return a}(c.a.Component),K=a(6);a(35);function L(e){var t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(null),s=Object(A.a)(o,2),i=s[0],u=s[1],m=function(t){u(t),e.setFile(t)},d=function(e){return function(t){e(t),t.stopPropagation(),t.preventDefault()}};if(i){var p=c.a.createRef(),f=new FileReader;return f.onload=function(){p.current&&(p.current.src=f.result)},f.readAsDataURL(i),c.a.createElement("div",{className:"drag-and-drop"},c.a.createElement("img",{alt:"Uploaded template ".concat(i.name),ref:p,className:e.landscape?"template-landscape":"template-portrait"}))}var E=c.a.createRef();return c.a.createElement("div",{className:"drag-and-drop"},c.a.createElement("div",{className:"upload-area ".concat(e.landscape?"upload-area-landscape":""," ").concat(r?"upload-area-drag":""),onDragOver:d((function(){})),onDrop:d((function(e){"file"===e.dataTransfer.items[0].kind&&m(e.dataTransfer.files[0]),l(!1)})),onDragEnter:d((function(){return l(!0)})),onDragLeave:d((function(){return l(!1)})),onClick:function(){var e;return null===(e=E.current)||void 0===e?void 0:e.click()}},c.a.createElement("input",{type:"file",ref:E,style:{display:"none"},onChange:function(e){m(e.target.files[0])}}),"Click to upload a template or drag and drop here."))}function F(){var e=Object(n.useState)(null),t=Object(A.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),o=Object(A.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(""),d=Object(A.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)([]),g=Object(A.a)(E,2),h=g[0],v=g[1],b=Object(n.useState)(!1),C=Object(A.a)(b,2),O=C[0],y=C[1],x=Object(n.useState)(""),k=Object(A.a)(x,2),j=k[0],Q=k[1],B=Object(n.useState)(!1),R=Object(A.a)(B,2),w=R[0],J=R[1],V=Object(n.useState)(!1),I=Object(A.a)(V,2),F=I[0],U=I[1],Y=function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?""===p?Q("No name was given."):0===h.length?Q("Select at least one category."):(Q(""),J(!0),T(a,s,p,h,O).then((function(e){J(!1),e.error?Q(e.error):U(!0)}))):Q("No file was uploaded.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(L,{landscape:O,setFile:r}),c.a.createElement("div",{className:"upload-form"},c.a.createElement("div",{className:"upload-form-line"},c.a.createElement("p",null,"Name"),c.a.createElement("input",{type:"text",value:p,onChange:function(e){f(e.target.value)}})),c.a.createElement("div",{className:"upload-form-line"},c.a.createElement("p",null,"Author"),c.a.createElement("input",{type:"text",value:s,onChange:function(e){i(e.target.value)}})),c.a.createElement("div",{className:"upload-form-line"},c.a.createElement("p",null,"Categories"),["Creative","Grids","Life/organize","Lines"].map((function(e,t){return c.a.createElement("label",{key:t},c.a.createElement("input",{type:"checkbox",name:"category",onChange:function(t){return function(e,t){e.target.checked?v([].concat(Object(K.a)(h),[t])):v(h.filter((function(e){return e!==t})))}(t,e)}}),e)}))),c.a.createElement("div",{className:"upload-form-line"},c.a.createElement("p",null,"Orientation"),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"orientation",checked:!O,onChange:function(){return y(!1)}}),"Portrait"),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"orientation",checked:O,onChange:function(){return y(!0)}}),"Landscape")),j&&c.a.createElement("div",{className:"upload-form-line upload-form-error"},j),w?c.a.createElement(m,null):F?c.a.createElement("div",{className:"upload-form-line upload-form-success"},"Success!"):c.a.createElement("div",{className:"upload-form-line"},c.a.createElement("button",{className:"upload-form-submit",onClick:Y},"Upload"))))}a(36);var U=a(20),Y=a.n(U),D=a(21),H=a.n(D);function M(){return c.a.createElement("p",null,"About")}function P(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],r=t[1],l=function(){r("")};return c.a.createElement(c.a.Fragment,null,function(){switch(a){case"":return c.a.createElement(c.a.Fragment,null," ");case"about":return c.a.createElement(I,{title:"About",onRequestHide:l},c.a.createElement(M,null));case"upload":return c.a.createElement(I,{title:"Upload Custom Template",onRequestHide:l},c.a.createElement(F,null))}}(),c.a.createElement("div",{className:"topbar"},c.a.createElement("button",{className:"icon-button",onClick:function(){return r("about")}},c.a.createElement("img",{src:Y.a,alt:"About button"})," About"),"Remarkable Templates",c.a.createElement("button",{className:"icon-button",onClick:function(){return r("upload")}},"Upload ",c.a.createElement("img",{src:H.a,alt:"Upload button"}))))}var G=function(){return c.a.createElement("div",{className:"container"},c.a.createElement(P,null),c.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[22,1,2]]]);
//# sourceMappingURL=main.ea9a3eaa.chunk.js.map